<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=11"/>
    <meta name="generator" content="Doxygen 1.9.8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Event-Driven Programming in C++: Event Queue in C++</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link rel="icon" href="logo.png" type="image/png" />
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
    <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
    <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.lightModeIcon = 'ðŸŒž';
      // icon from https://fonts.google.com/icons
      DoxygenAwesomeDarkModeToggle.darkModeIcon = `<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#009793"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M8.1,14.15C9.77,14.63,11,16.17,11,18c0,0.68-0.19,1.31-0.48,1.87c0.48,0.09,0.97,0.14,1.48,0.14 c1.48,0,2.9-0.41,4.13-1.15c-2.62-0.92-5.23-2.82-6.8-5.86C7.74,9.94,7.78,7.09,8.29,4.9c-2.57,1.33-4.3,4.01-4.3,7.1c0,0,0,0,0,0 c0.01,0,0.01,0,0.02,0C5.66,12,7.18,12.83,8.1,14.15z" opacity=".3"/><path d="M19.78,17.51c-2.47,0-6.57-1.33-8.68-5.43C8.77,7.57,10.6,3.6,11.63,2.01C6.27,2.2,1.98,6.59,1.98,12 c0,0.14,0.02,0.28,0.02,0.42C2.61,12.16,3.28,12,3.98,12c0,0,0,0,0,0c0-3.09,1.73-5.77,4.3-7.1C7.78,7.09,7.74,9.94,9.32,13 c1.57,3.04,4.18,4.95,6.8,5.86c-1.23,0.74-2.65,1.15-4.13,1.15c-0.5,0-1-0.05-1.48-0.14c-0.37,0.7-0.94,1.27-1.64,1.64 c0.98,0.32,2.03,0.5,3.11,0.5c3.5,0,6.58-1.8,8.37-4.52C20.18,17.5,19.98,17.51,19.78,17.51z"/><path d="M7,16l-0.18,0C6.4,14.84,5.3,14,4,14c-1.66,0-3,1.34-3,3s1.34,3,3,3c0.62,0,2.49,0,3,0c1.1,0,2-0.9,2-2 C9,16.9,8.1,16,7,16z"/></g></g></svg>`;
      // All customizations must be applied before calling DoxygenAwesomeDarkModeToggle.init()!
      DoxygenAwesomeDarkModeToggle.init();
      DoxygenAwesomeFragmentCopyButton.init();
      DoxygenAwesomeParagraphLink.init();
      DoxygenAwesomeInteractiveToc.init();
      DoxygenAwesomeTabs.init();
    </script>
    <style type="text/css">
      html {
        --top-height: 140px;
      }
      #projectname {
        white-space: wrap;
      }
    </style>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
            <tbody>
                <tr id="projectrow">
                    <td id="projectalign">
                        <div id="projectname">Event-Driven Programming in C++<span id="projectnumber">&#160;1.0</span>
                        </div>
                        <div id="projectbrief">A case study on event-driven programming in C++</div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <!-- end header part --><!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_build_2md__files_2docs_2event__queue.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Event Queue in C++</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md65">Key Concepts</a></li>
<li class="level1"><a href="#autotoc_md66">Benefits</a></li>
<li class="level1"><a href="#autotoc_md67">A Simple C++ Example</a><ul><li class="level2"><a href="#autotoc_md68">Example Code</a></li>
<li class="level2"><a href="#autotoc_md69">Explanation</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md70">Advanced Considerations</a></li>
<li class="level1"><a href="#autotoc_md71">Conclusion</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="autotoc_md64"></a></p>
<p>An event queue is a programming construct that allows an application to store and manage events that occur asynchronously. Instead of handling each event immediately as it occurs, events are enqueued and processed sequentially. This mechanism is widely used in GUI applications, game development, and multi-threaded systems to decouple event generation from event processing.</p>
<h1><a class="anchor" id="autotoc_md65"></a>
Key Concepts</h1>
<ul>
<li><b>Event:</b> <br  />
 An action or occurrenceâ€”such as a user input, a timer expiry, or a network messageâ€”that needs to be processed by the application.</li>
<li><b>Event Queue:</b> <br  />
 A data structure (often implemented as a FIFO queue) that holds events until they are processed.</li>
<li><b>Producer:</b> <br  />
 The component that generates events and pushes them into the queue.</li>
<li><b>Consumer:</b> <br  />
 The component that processes events from the queue, often in an event loop.</li>
<li><b>Asynchronous Processing:</b> <br  />
 Using an event queue allows producers and consumers to operate independently, which is especially useful in asynchronous and multi-threaded environments.</li>
</ul>
<h1><a class="anchor" id="autotoc_md66"></a>
Benefits</h1>
<ul>
<li><b>Decoupling:</b> <br  />
 The producers of events do not need to know how events are processed, and vice versa, leading to a modular and maintainable design.</li>
<li><b>Buffering:</b> <br  />
 Events can be queued up and processed at a pace that suits the application, which helps in handling bursty event loads.</li>
<li><b>Simplified Flow:</b> <br  />
 A simple FIFO structure can effectively manage events, making it easier to reason about the order and timing of event handling.</li>
</ul>
<h1><a class="anchor" id="autotoc_md67"></a>
A Simple C++ Example</h1>
<p>Below is an example implementation of an event queue using <code>std::queue</code> and <code>std::function</code> for event callbacks. This example demonstrates how events are added to the queue and then processed sequentially.</p>
<h2><a class="anchor" id="autotoc_md68"></a>
Example Code</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;queue&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Define an Event type using std::function</span></div>
<div class="line"><span class="keyword">using </span>Event = std::function&lt;void()&gt;;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// EventQueue class that manages events</span></div>
<div class="line"><span class="keyword">class </span>EventQueue {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Add an event to the queue</span></div>
<div class="line">    <span class="keywordtype">void</span> push(Event event) {</div>
<div class="line">        events.push(event);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Process and remove all events from the queue</span></div>
<div class="line">    <span class="keywordtype">void</span> processEvents() {</div>
<div class="line">        <span class="keywordflow">while</span> (!events.empty()) {</div>
<div class="line">            Event <span class="keyword">event</span> = events.front();</div>
<div class="line">            events.pop();</div>
<div class="line">            event(); <span class="comment">// Execute the event callback</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::queue&lt;Event&gt; events;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Simulate the production of some events</span></div>
<div class="line"><span class="keywordtype">void</span> simulateEvents(EventQueue&amp; queue) {</div>
<div class="line">    <span class="comment">// Example event 1: Print a greeting</span></div>
<div class="line">    queue.push([]() {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Event 1: Hello, world!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Example event 2: Print a delayed message</span></div>
<div class="line">    queue.push([]() {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Event 2: This is a delayed message.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Example event 3: Perform a simple calculation</span></div>
<div class="line">    queue.push([]() {</div>
<div class="line">        <span class="keywordtype">int</span> result = 42 * 2;</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Event 3: The result of the calculation is &quot;</span> &lt;&lt; result &lt;&lt; std::endl;</div>
<div class="line">    });</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="callbacks_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    EventQueue queue;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Simulate producing events</span></div>
<div class="line">    simulateEvents(queue);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Process the event queue</span></div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Processing event queue...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    queue.processEvents();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="acallbacks_2main_8cpp_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="callbacks_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdef"><b>Definition</b> main.cpp:14</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md69"></a>
Explanation</h2>
<ul>
<li><b>Event Definition:</b> <br  />
 The <code>Event</code> type is defined as <code>std::function&lt;void()&gt;</code>, which allows storing any callable object (such as a lambda) that takes no arguments and returns nothing.</li>
<li><b>EventQueue Class:</b> <br  />
<ul>
<li>The <code>push()</code> method adds a new event to the queue.</li>
<li>The <code>processEvents()</code> method processes all events in FIFO order, executing each event callback and removing it from the queue.</li>
</ul>
</li>
<li><b>Simulating Events:</b> <br  />
 The <code>simulateEvents()</code> function demonstrates how different events can be generated and added to the queue. In a real-world application, events might come from various parts of the system or different threads.</li>
</ul>
<h1><a class="anchor" id="autotoc_md70"></a>
Advanced Considerations</h1>
<ul>
<li><b>Thread Safety:</b> <br  />
 In a multi-threaded environment, you would typically protect the event queue using synchronization mechanisms (e.g., mutexes) or use a thread-safe queue implementation to avoid race conditions.</li>
<li><b>Event Prioritization:</b> <br  />
 For systems where certain events should be processed before others, consider using a priority queue or implementing a custom ordering mechanism.</li>
<li><b>Continuous Event Loop:</b> <br  />
 In applications such as GUIs or games, the event queue is often processed inside a continuous event loop that runs for the lifetime of the application.</li>
</ul>
<h1><a class="anchor" id="autotoc_md71"></a>
Conclusion</h1>
<p>Event queues provide a powerful mechanism for managing asynchronous events in a decoupled manner. They allow applications to buffer and process events in an orderly fashion, improving responsiveness and modularity. The simple example above demonstrates the basic principles of using an event queue in C++, which you can expand upon for more complex systems. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <ul>
      <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
    </ul>
  </div>
  </body>
  </html>